/*
 * Copyright (C) 2022 Prof. Dr. David Buzatto
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */
package br.com.davidbuzatto.yaas.gui;

import br.com.davidbuzatto.yaas.model.fa.FA;
import br.com.davidbuzatto.yaas.model.fa.examples.FAExamples;
import br.com.davidbuzatto.yaas.model.fa.examples.FAExamplesForMinimizationTest;
import br.com.davidbuzatto.yaas.gui.fa.FAInternalFrame;
import br.com.davidbuzatto.yaas.gui.pda.PDAInternalFrame;
import br.com.davidbuzatto.yaas.gui.tm.TMInternalFrame;
import br.com.davidbuzatto.yaas.model.pda.PDA;
import br.com.davidbuzatto.yaas.model.pda.PDAAcceptanceType;
import br.com.davidbuzatto.yaas.model.pda.examples.PDAExamples;
import br.com.davidbuzatto.yaas.model.tm.TM;
import br.com.davidbuzatto.yaas.model.tm.TMAcceptanceType;
import br.com.davidbuzatto.yaas.model.tm.examples.TMExamples;
import br.com.davidbuzatto.yaas.util.ApplicationConstants;
import br.com.davidbuzatto.yaas.util.ApplicationPreferences;
import br.com.davidbuzatto.yaas.util.CharacterConstants;
import br.com.davidbuzatto.yaas.util.Utils;
import com.formdev.flatlaf.FlatDarculaLaf;
import com.formdev.flatlaf.FlatLightLaf;
import java.awt.EventQueue;
import java.beans.PropertyVetoException;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import javax.swing.JInternalFrame;
import javax.swing.JOptionPane;
import javax.swing.SwingUtilities;

/**
 * Main GUI class.
 * 
 * @author Prof. Dr. David Buzatto
 */
public class MainWindow extends javax.swing.JFrame {
    
    /**
     * Creates new form MainWindow
     */
    public MainWindow() {
        ApplicationPreferences.preparePreferences( false );
        initComponents();
        customInit();
    }
    
    private void customInit() {
        
        setTitle( 
                ApplicationConstants.APP_NAME + 
                " - v" + 
                ApplicationConstants.APP_VERSION );
        
        if ( !ApplicationConstants.IN_DEVELOPMENT ) {
            setExtendedState( MAXIMIZED_BOTH );
        }
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings( "unchecked" )
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        bgTheme = new javax.swing.ButtonGroup();
        desktopPane = new javax.swing.JDesktopPane();
        toolBar = new javax.swing.JToolBar();
        btnFA = new javax.swing.JButton();
        btnPDA = new javax.swing.JButton();
        btnTM = new javax.swing.JButton();
        menuBar = new javax.swing.JMenuBar();
        menuFile = new javax.swing.JMenu();
        menuItemExit = new javax.swing.JMenuItem();
        menuExamples = new javax.swing.JMenu();
        menuFA = new javax.swing.JMenu();
        menuDFA = new javax.swing.JMenu();
        miDFASubstring01 = new javax.swing.JMenuItem();
        miDFAEndsWith00 = new javax.swing.JMenuItem();
        miDFAEndsWith01 = new javax.swing.JMenuItem();
        miDFAEndsWith10 = new javax.swing.JMenuItem();
        miDFAEndsWith11 = new javax.swing.JMenuItem();
        miDFA0Even1Odd = new javax.swing.JMenuItem();
        menuNFA = new javax.swing.JMenu();
        miNFAEndsWith00 = new javax.swing.JMenuItem();
        miNFAEndsWith01 = new javax.swing.JMenuItem();
        miNFAEndsWith10 = new javax.swing.JMenuItem();
        miNFAEndsWith11 = new javax.swing.JMenuItem();
        menuENFA = new javax.swing.JMenu();
        miENFADecimalNumber = new javax.swing.JMenuItem();
        menuFASep01 = new javax.swing.JPopupMenu.Separator();
        menuExamplesForMinimization = new javax.swing.JMenu();
        miMiniE01 = new javax.swing.JMenuItem();
        miMiniE02 = new javax.swing.JMenuItem();
        miMiniE03 = new javax.swing.JMenuItem();
        miMiniE04 = new javax.swing.JMenuItem();
        miMiniE05 = new javax.swing.JMenuItem();
        miMiniE06 = new javax.swing.JMenuItem();
        miMiniE07 = new javax.swing.JMenuItem();
        miMiniE08 = new javax.swing.JMenuItem();
        miMiniE09 = new javax.swing.JMenuItem();
        menuPDA = new javax.swing.JMenu();
        menuPDAFinalState = new javax.swing.JMenu();
        miPDAEvenPalindromeFinalState = new javax.swing.JMenuItem();
        miPDA0n1nFinalState = new javax.swing.JMenuItem();
        miPDA01SameFinalState = new javax.swing.JMenuItem();
        miPDAPDAAiBjCkFinalState = new javax.swing.JMenuItem();
        menuPDAEmptyStack = new javax.swing.JMenu();
        miPDAEvenPalindromeEmptyStack = new javax.swing.JMenuItem();
        miPDA0n1nEmptyStack = new javax.swing.JMenuItem();
        miPDA01SameEmptyStack = new javax.swing.JMenuItem();
        menuDPDA = new javax.swing.JMenu();
        miDPDAEvenPalindromeCenterMark = new javax.swing.JMenuItem();
        miDPDA0n1n = new javax.swing.JMenuItem();
        miDPDA01Same = new javax.swing.JMenuItem();
        menuTM = new javax.swing.JMenu();
        menuTMFinalState = new javax.swing.JMenu();
        miTM0n1nFinalState = new javax.swing.JMenuItem();
        miTMAnBnCnFinalState = new javax.swing.JMenuItem();
        miTM01SameFinalState = new javax.swing.JMenuItem();
        menuTMSep01 = new javax.swing.JPopupMenu.Separator();
        miTMInfiniteLoopFinalState = new javax.swing.JMenuItem();
        menuTMHalt = new javax.swing.JMenu();
        miTMMonusHalt = new javax.swing.JMenuItem();
        miTMDivideHalt = new javax.swing.JMenuItem();
        menuThemes = new javax.swing.JMenu();
        riLightTheme = new javax.swing.JRadioButtonMenuItem();
        riDarkTheme = new javax.swing.JRadioButtonMenuItem();
        menuHelp = new javax.swing.JMenu();
        menuItemAbout = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setTitle("YAAS");
        setIconImage(new javax.swing.ImageIcon( getClass().getResource( "/yaas.png" ) ).getImage());
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                formWindowClosing(evt);
            }
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });

        javax.swing.GroupLayout desktopPaneLayout = new javax.swing.GroupLayout(desktopPane);
        desktopPane.setLayout(desktopPaneLayout);
        desktopPaneLayout.setHorizontalGroup(
            desktopPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );
        desktopPaneLayout.setVerticalGroup(
            desktopPaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 631, Short.MAX_VALUE)
        );

        toolBar.setRollover(true);

        btnFA.setIcon(new javax.swing.ImageIcon(getClass().getResource("/faBig.png"))); // NOI18N
        btnFA.setText("Finite Automata");
        btnFA.setToolTipText("");
        btnFA.setFocusable(false);
        btnFA.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnFA.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnFA.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnFAActionPerformed(evt);
            }
        });
        toolBar.add(btnFA);

        btnPDA.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pdaBig.png"))); // NOI18N
        btnPDA.setText("Pushdown Automata");
        btnPDA.setToolTipText("");
        btnPDA.setFocusable(false);
        btnPDA.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnPDA.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnPDA.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnPDAActionPerformed(evt);
            }
        });
        toolBar.add(btnPDA);

        btnTM.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turingBig.png"))); // NOI18N
        btnTM.setText("Turing Machines");
        btnTM.setFocusable(false);
        btnTM.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnTM.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnTM.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnTMActionPerformed(evt);
            }
        });
        toolBar.add(btnTM);

        menuFile.setMnemonic('F');
        menuFile.setText("File");

        menuItemExit.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_F4, java.awt.event.InputEvent.ALT_DOWN_MASK));
        menuItemExit.setIcon(new javax.swing.ImageIcon(getClass().getResource("/door_out.png"))); // NOI18N
        menuItemExit.setMnemonic('x');
        menuItemExit.setText("Exit");
        menuItemExit.setToolTipText("");
        menuItemExit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuItemExitActionPerformed(evt);
            }
        });
        menuFile.add(menuItemExit);

        menuBar.add(menuFile);

        menuExamples.setMnemonic('E');
        menuExamples.setText("Examples");
        menuExamples.setToolTipText("");

        menuFA.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        menuFA.setMnemonic('F');
        menuFA.setText("Finite Automata");

        menuDFA.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dfa.png"))); // NOI18N
        menuDFA.setMnemonic('D');
        menuDFA.setText("DFA");
        menuDFA.setToolTipText("Deterministic Finite Automaton");

        miDFASubstring01.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dfa.png"))); // NOI18N
        miDFASubstring01.setText("L = { x01y | x and y are any strings of 0's and 1's }");
        miDFASubstring01.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDFASubstring01ActionPerformed(evt);
            }
        });
        menuDFA.add(miDFASubstring01);

        miDFAEndsWith00.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dfa.png"))); // NOI18N
        miDFAEndsWith00.setText("L = { w | w ends with 00 }");
        miDFAEndsWith00.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDFAEndsWith00ActionPerformed(evt);
            }
        });
        menuDFA.add(miDFAEndsWith00);

        miDFAEndsWith01.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dfa.png"))); // NOI18N
        miDFAEndsWith01.setText("L = { w | w ends with 01 }");
        miDFAEndsWith01.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDFAEndsWith01ActionPerformed(evt);
            }
        });
        menuDFA.add(miDFAEndsWith01);

        miDFAEndsWith10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dfa.png"))); // NOI18N
        miDFAEndsWith10.setText("L = { w | w ends with 10 }");
        miDFAEndsWith10.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDFAEndsWith10ActionPerformed(evt);
            }
        });
        menuDFA.add(miDFAEndsWith10);

        miDFAEndsWith11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dfa.png"))); // NOI18N
        miDFAEndsWith11.setText("L = { w | w ends with 11 }");
        miDFAEndsWith11.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDFAEndsWith11ActionPerformed(evt);
            }
        });
        menuDFA.add(miDFAEndsWith11);

        miDFA0Even1Odd.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dfa.png"))); // NOI18N
        miDFA0Even1Odd.setText(FAExamples.REGULAR_LANGUAGE_0_EVEN_1_ODD);
        miDFA0Even1Odd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDFA0Even1OddActionPerformed(evt);
            }
        });
        menuDFA.add(miDFA0Even1Odd);

        menuFA.add(menuDFA);

        menuNFA.setIcon(new javax.swing.ImageIcon(getClass().getResource("/nfa.png"))); // NOI18N
        menuNFA.setMnemonic('N');
        menuNFA.setText("NFA");
        menuNFA.setToolTipText("Nondeterministic Finite Automaton");

        miNFAEndsWith00.setIcon(new javax.swing.ImageIcon(getClass().getResource("/nfa.png"))); // NOI18N
        miNFAEndsWith00.setText("L = { w | w ends with 00 }");
        miNFAEndsWith00.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miNFAEndsWith00ActionPerformed(evt);
            }
        });
        menuNFA.add(miNFAEndsWith00);

        miNFAEndsWith01.setIcon(new javax.swing.ImageIcon(getClass().getResource("/nfa.png"))); // NOI18N
        miNFAEndsWith01.setText("L = { w | w ends with 01 }");
        miNFAEndsWith01.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miNFAEndsWith01ActionPerformed(evt);
            }
        });
        menuNFA.add(miNFAEndsWith01);

        miNFAEndsWith10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/nfa.png"))); // NOI18N
        miNFAEndsWith10.setText("L = { w | w ends with 10 }");
        miNFAEndsWith10.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miNFAEndsWith10ActionPerformed(evt);
            }
        });
        menuNFA.add(miNFAEndsWith10);

        miNFAEndsWith11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/nfa.png"))); // NOI18N
        miNFAEndsWith11.setText("L = { w | w ends with 11 }");
        miNFAEndsWith11.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miNFAEndsWith11ActionPerformed(evt);
            }
        });
        menuNFA.add(miNFAEndsWith11);

        menuFA.add(menuNFA);

        menuENFA.setIcon(new javax.swing.ImageIcon(getClass().getResource("/enfa.png"))); // NOI18N
        menuENFA.setMnemonic('F');
        menuENFA.setText(CharacterConstants.EMPTY_STRING.toString() + "-NFA");
        menuENFA.setToolTipText("Finite Automaton with " + CharacterConstants.SMALL_EPSILON + "-transitions");

        miENFADecimalNumber.setIcon(new javax.swing.ImageIcon(getClass().getResource("/enfa.png"))); // NOI18N
        miENFADecimalNumber.setText("L = { w | w is a valid decimal number }");
        miENFADecimalNumber.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miENFADecimalNumberActionPerformed(evt);
            }
        });
        menuENFA.add(miENFADecimalNumber);

        menuFA.add(menuENFA);
        menuFA.add(menuFASep01);

        menuExamplesForMinimization.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        menuExamplesForMinimization.setMnemonic('E');
        menuExamplesForMinimization.setText("Examples for Minimization");

        miMiniE01.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE01.setMnemonic('1');
        miMiniE01.setText("Example 01");
        miMiniE01.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE01ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE01);

        miMiniE02.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE02.setMnemonic('2');
        miMiniE02.setText("Example 02");
        miMiniE02.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE02ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE02);

        miMiniE03.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE03.setMnemonic('3');
        miMiniE03.setText("Example 03");
        miMiniE03.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE03ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE03);

        miMiniE04.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE04.setMnemonic('4');
        miMiniE04.setText("Example 04");
        miMiniE04.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE04ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE04);

        miMiniE05.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE05.setMnemonic('5');
        miMiniE05.setText("Example 05");
        miMiniE05.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE05ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE05);

        miMiniE06.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE06.setMnemonic('6');
        miMiniE06.setText("Example 06");
        miMiniE06.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE06ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE06);

        miMiniE07.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE07.setMnemonic('7');
        miMiniE07.setText("Example 07");
        miMiniE07.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE07ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE07);

        miMiniE08.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE08.setMnemonic('8');
        miMiniE08.setText("Example 08");
        miMiniE08.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE08ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE08);

        miMiniE09.setIcon(new javax.swing.ImageIcon(getClass().getResource("/fa.png"))); // NOI18N
        miMiniE09.setMnemonic('9');
        miMiniE09.setText("Example 09");
        miMiniE09.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miMiniE09ActionPerformed(evt);
            }
        });
        menuExamplesForMinimization.add(miMiniE09);

        menuFA.add(menuExamplesForMinimization);

        menuExamples.add(menuFA);

        menuPDA.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        menuPDA.setMnemonic('P');
        menuPDA.setText("Pushdown Automata");

        menuPDAFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        menuPDAFinalState.setMnemonic('F');
        menuPDAFinalState.setText("Accept by Final State");

        miPDAEvenPalindromeFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miPDAEvenPalindromeFinalState.setText("Even Palindrome");
        miPDAEvenPalindromeFinalState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miPDAEvenPalindromeFinalStateActionPerformed(evt);
            }
        });
        menuPDAFinalState.add(miPDAEvenPalindromeFinalState);

        miPDA0n1nFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miPDA0n1nFinalState.setText(PDAExamples.CONTEXT_FREE_LANGUAGE_0N_1N);
        miPDA0n1nFinalState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miPDA0n1nFinalStateActionPerformed(evt);
            }
        });
        menuPDAFinalState.add(miPDA0n1nFinalState);

        miPDA01SameFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miPDA01SameFinalState.setText("L = { w | w contains the same amount of 0's and 1's }");
        miPDA01SameFinalState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miPDA01SameFinalStateActionPerformed(evt);
            }
        });
        menuPDAFinalState.add(miPDA01SameFinalState);

        miPDAPDAAiBjCkFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miPDAPDAAiBjCkFinalState.setText(PDAExamples.CONTEXT_FREE_LANGUAGE_AI_BJ_CK);
        miPDAPDAAiBjCkFinalState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miPDAPDAAiBjCkFinalStateActionPerformed(evt);
            }
        });
        menuPDAFinalState.add(miPDAPDAAiBjCkFinalState);

        menuPDA.add(menuPDAFinalState);

        menuPDAEmptyStack.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        menuPDAEmptyStack.setMnemonic('E');
        menuPDAEmptyStack.setText("Accept by Empty Stack");

        miPDAEvenPalindromeEmptyStack.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miPDAEvenPalindromeEmptyStack.setText("Even Palindrome");
        miPDAEvenPalindromeEmptyStack.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miPDAEvenPalindromeEmptyStackActionPerformed(evt);
            }
        });
        menuPDAEmptyStack.add(miPDAEvenPalindromeEmptyStack);

        miPDA0n1nEmptyStack.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miPDA0n1nEmptyStack.setText(PDAExamples.CONTEXT_FREE_LANGUAGE_0N_1N);
        miPDA0n1nEmptyStack.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miPDA0n1nEmptyStackActionPerformed(evt);
            }
        });
        menuPDAEmptyStack.add(miPDA0n1nEmptyStack);

        miPDA01SameEmptyStack.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miPDA01SameEmptyStack.setText("L = { w | w contains the same amount of 0's and 1's }");
        miPDA01SameEmptyStack.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miPDA01SameEmptyStackActionPerformed(evt);
            }
        });
        menuPDAEmptyStack.add(miPDA01SameEmptyStack);

        menuPDA.add(menuPDAEmptyStack);

        menuDPDA.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        menuDPDA.setMnemonic('D');
        menuDPDA.setText("DPDA");
        menuDPDA.setToolTipText("");

        miDPDAEvenPalindromeCenterMark.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miDPDAEvenPalindromeCenterMark.setText("Even Palindrome with Center Mark");
        miDPDAEvenPalindromeCenterMark.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDPDAEvenPalindromeCenterMarkActionPerformed(evt);
            }
        });
        menuDPDA.add(miDPDAEvenPalindromeCenterMark);

        miDPDA0n1n.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miDPDA0n1n.setText(PDAExamples.CONTEXT_FREE_LANGUAGE_0N_1N);
        miDPDA0n1n.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDPDA0n1nActionPerformed(evt);
            }
        });
        menuDPDA.add(miDPDA0n1n);

        miDPDA01Same.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pda.png"))); // NOI18N
        miDPDA01Same.setText("L = { w | w contains the same amount of 0's and 1's }");
        miDPDA01Same.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miDPDA01SameActionPerformed(evt);
            }
        });
        menuDPDA.add(miDPDA01Same);

        menuPDA.add(menuDPDA);

        menuExamples.add(menuPDA);

        menuTM.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        menuTM.setMnemonic('T');
        menuTM.setText("Turing Machines");
        menuTM.setToolTipText("");

        menuTMFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        menuTMFinalState.setMnemonic('F');
        menuTMFinalState.setText("Accept by Final State");

        miTM0n1nFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        miTM0n1nFinalState.setText(TMExamples.RECURSIVELY_ENUMERABLE_LANGUAGE_0N_1N);
        miTM0n1nFinalState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miTM0n1nFinalStateActionPerformed(evt);
            }
        });
        menuTMFinalState.add(miTM0n1nFinalState);

        miTMAnBnCnFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        miTMAnBnCnFinalState.setText(TMExamples.RECURSIVELY_ENUMERABLE_LANGUAGE_AN_BN_CN);
        miTMAnBnCnFinalState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miTMAnBnCnFinalStateActionPerformed(evt);
            }
        });
        menuTMFinalState.add(miTMAnBnCnFinalState);

        miTM01SameFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        miTM01SameFinalState.setText("L = { w | w contains the same amount of 0's and 1's }");
        miTM01SameFinalState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miTM01SameFinalStateActionPerformed(evt);
            }
        });
        menuTMFinalState.add(miTM01SameFinalState);
        menuTMFinalState.add(menuTMSep01);

        miTMInfiniteLoopFinalState.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        miTMInfiniteLoopFinalState.setText("Infinite Loop");
        miTMInfiniteLoopFinalState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miTMInfiniteLoopFinalStateActionPerformed(evt);
            }
        });
        menuTMFinalState.add(miTMInfiniteLoopFinalState);

        menuTM.add(menuTMFinalState);

        menuTMHalt.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        menuTMHalt.setMnemonic('H');
        menuTMHalt.setText("Accept by Halt");

        miTMMonusHalt.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        miTMMonusHalt.setText("Monus (Proper Subtraction)");
        miTMMonusHalt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miTMMonusHaltActionPerformed(evt);
            }
        });
        menuTMHalt.add(miTMMonusHalt);

        miTMDivideHalt.setIcon(new javax.swing.ImageIcon(getClass().getResource("/turing.png"))); // NOI18N
        miTMDivideHalt.setText("Divide");
        miTMDivideHalt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                miTMDivideHaltActionPerformed(evt);
            }
        });
        menuTMHalt.add(miTMDivideHalt);

        menuTM.add(menuTMHalt);

        menuExamples.add(menuTM);

        menuBar.add(menuExamples);

        menuThemes.setMnemonic('T');
        menuThemes.setText("Themes");

        bgTheme.add(riLightTheme);
        riLightTheme.setMnemonic('L');
        riLightTheme.setText("Light");
        riLightTheme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                riLightThemeActionPerformed(evt);
            }
        });
        menuThemes.add(riLightTheme);

        bgTheme.add(riDarkTheme);
        riDarkTheme.setMnemonic('D');
        riDarkTheme.setText("Dark");
        riDarkTheme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                riDarkThemeActionPerformed(evt);
            }
        });
        menuThemes.add(riDarkTheme);

        menuBar.add(menuThemes);

        menuHelp.setMnemonic('H');
        menuHelp.setText("Help");

        menuItemAbout.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_F1, 0));
        menuItemAbout.setIcon(new javax.swing.ImageIcon(getClass().getResource("/help.png"))); // NOI18N
        menuItemAbout.setMnemonic('A');
        menuItemAbout.setText("About...");
        menuItemAbout.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuItemAboutActionPerformed(evt);
            }
        });
        menuHelp.add(menuItemAbout);

        menuBar.add(menuHelp);

        setJMenuBar(menuBar);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(desktopPane)
            .addComponent(toolBar, javax.swing.GroupLayout.DEFAULT_SIZE, 1280, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addComponent(toolBar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(desktopPane))
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void btnFAActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnFAActionPerformed
        createFAInternalFrame( null, false, true, null, null );
    }//GEN-LAST:event_btnFAActionPerformed

    private void miDFASubstring01ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDFASubstring01ActionPerformed
        createFAInternalFrame( FAExamples.createDFASubstring01(), 
                false, false, null, "0010" );
    }//GEN-LAST:event_miDFASubstring01ActionPerformed

    private void miDFAEndsWith01ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDFAEndsWith01ActionPerformed
        createFAInternalFrame( FAExamples.createDFAEndsWith01(), 
                false, false, null, "1001" );
    }//GEN-LAST:event_miDFAEndsWith01ActionPerformed

    private void miDFA0Even1OddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDFA0Even1OddActionPerformed
        createFAInternalFrame( FAExamples.createDFA0Even1Odd(), 
                false, false, null, "0000" );
    }//GEN-LAST:event_miDFA0Even1OddActionPerformed

    private void miNFAEndsWith01ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miNFAEndsWith01ActionPerformed
        createFAInternalFrame( FAExamples.createNFAEndsWith01(), 
                false, false, null, "1001" );
    }//GEN-LAST:event_miNFAEndsWith01ActionPerformed

    private void miENFADecimalNumberActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miENFADecimalNumberActionPerformed
        createFAInternalFrame( FAExamples.createENFADecimalNumber(), 
                false, false, null, "-1.54" );
    }//GEN-LAST:event_miENFADecimalNumberActionPerformed

    private void menuItemExitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuItemExitActionPerformed
        close();
    }//GEN-LAST:event_menuItemExitActionPerformed

    private void menuItemAboutActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuItemAboutActionPerformed
        
        JOptionPane.showMessageDialog( this, 
                String.format( """
                Yet Another Automata Simulator (YAAS) is a prototype tool for
                simulating the execution of Finite Automata, Pushdown Automata
                and Turing Machines. It uses the definitions presented in:
                               
                "J. E. Hopcroft, R. Motwani, and J. D. Ullman, Introduction
                to Automata Theory, Languages, and Computation, 3rd ed.,
                Pearson Education, 2006."
                
                The project repository can be accessed through the URL:
                https://github.com/davidbuzatto/YAAS
                
                This tool is developed by Prof. Dr. David Buzatto.
                E-mail: davidbuzatto[at]ifsp.edu.br
                
                Current version: %s""", Utils.getMavenModel().getVersion() ),
                "About...", 
                JOptionPane.INFORMATION_MESSAGE );
        
    }//GEN-LAST:event_menuItemAboutActionPerformed

    private void miNFAEndsWith00ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miNFAEndsWith00ActionPerformed
        createFAInternalFrame( FAExamples.createNFAEndsWith00(), 
                false, false, null, "1000" );
    }//GEN-LAST:event_miNFAEndsWith00ActionPerformed

    private void miNFAEndsWith10ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miNFAEndsWith10ActionPerformed
        createFAInternalFrame( FAExamples.createNFAEndsWith10(), 
                false, false, null, "1010" );
    }//GEN-LAST:event_miNFAEndsWith10ActionPerformed

    private void miNFAEndsWith11ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miNFAEndsWith11ActionPerformed
        createFAInternalFrame( FAExamples.createNFAEndsWith11(), 
                false, false, null, "1011" );
    }//GEN-LAST:event_miNFAEndsWith11ActionPerformed

    private void miDFAEndsWith00ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDFAEndsWith00ActionPerformed
        createFAInternalFrame( FAExamples.createDFAEndsWith00(), 
                false, false, null, "1000" );
    }//GEN-LAST:event_miDFAEndsWith00ActionPerformed

    private void miDFAEndsWith11ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDFAEndsWith11ActionPerformed
        createFAInternalFrame( FAExamples.createDFAEndsWith11(), 
                false, false, null, "1011" );
    }//GEN-LAST:event_miDFAEndsWith11ActionPerformed

    private void miDFAEndsWith10ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDFAEndsWith10ActionPerformed
        createFAInternalFrame( FAExamples.createDFAEndsWith10(), 
                false, false, null, "1010" );
    }//GEN-LAST:event_miDFAEndsWith10ActionPerformed

    private void formWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosing
        close();
    }//GEN-LAST:event_formWindowClosing

    private void btnPDAActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnPDAActionPerformed
        createPDAInternalFrame( null, false, true, null, null, null );
    }//GEN-LAST:event_btnPDAActionPerformed

    private void btnTMActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnTMActionPerformed
        createTMInternalFrame( null, false, true, null, null, null );
    }//GEN-LAST:event_btnTMActionPerformed

    private void miMiniE01ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE01ActionPerformed
        createFAInternalFrame( 
                FAExamplesForMinimizationTest.createDFAForMinimizationTest01(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE01ActionPerformed

    private void miMiniE02ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE02ActionPerformed
        createFAInternalFrame( 
                FAExamplesForMinimizationTest.createDFAForMinimizationTest02(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE02ActionPerformed

    private void miMiniE03ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE03ActionPerformed
        createFAInternalFrame(
                FAExamplesForMinimizationTest.createDFAForMinimizationTest03(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE03ActionPerformed

    private void miMiniE04ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE04ActionPerformed
        createFAInternalFrame(
                FAExamplesForMinimizationTest.createDFAForMinimizationTest04(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE04ActionPerformed

    private void miMiniE05ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE05ActionPerformed
        createFAInternalFrame(
                FAExamplesForMinimizationTest.createDFAForMinimizationTest05(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE05ActionPerformed

    private void miMiniE06ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE06ActionPerformed
        createFAInternalFrame(
                FAExamplesForMinimizationTest.createDFAForMinimizationTest06(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE06ActionPerformed

    private void miMiniE07ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE07ActionPerformed
        createFAInternalFrame(
                FAExamplesForMinimizationTest.createDFAForMinimizationTest07(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE07ActionPerformed

    private void miMiniE08ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE08ActionPerformed
        createFAInternalFrame(
                FAExamplesForMinimizationTest.createDFAForMinimizationTest08(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE08ActionPerformed

    private void miMiniE09ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miMiniE09ActionPerformed
        createFAInternalFrame(
                FAExamplesForMinimizationTest.createDFAForMinimizationTest09(), 
                false, false, null, null );
    }//GEN-LAST:event_miMiniE09ActionPerformed

    private void miPDAEvenPalindromeFinalStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miPDAEvenPalindromeFinalStateActionPerformed
        createPDAInternalFrame( PDAExamples.createPDAEvenPalindromeFinalState(), 
                false, false, null, "001100", PDAAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miPDAEvenPalindromeFinalStateActionPerformed

    private void miPDAEvenPalindromeEmptyStackActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miPDAEvenPalindromeEmptyStackActionPerformed
        createPDAInternalFrame( PDAExamples.createPDAEvenPalindromeEmptyStack(), 
                false, false, null, "001100", PDAAcceptanceType.EMPTY_STACK );
    }//GEN-LAST:event_miPDAEvenPalindromeEmptyStackActionPerformed

    private void miDPDAEvenPalindromeCenterMarkActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDPDAEvenPalindromeCenterMarkActionPerformed
        createPDAInternalFrame( PDAExamples.createDPDAEvenPalindromeCenterMark(), 
                false, false, null, "001c100", PDAAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miDPDAEvenPalindromeCenterMarkActionPerformed

    private void riLightThemeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_riLightThemeActionPerformed
        changeThemeToLight();
    }//GEN-LAST:event_riLightThemeActionPerformed

    private void riDarkThemeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_riDarkThemeActionPerformed
        changeThemeToDark();
    }//GEN-LAST:event_riDarkThemeActionPerformed

    private void miPDA0n1nFinalStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miPDA0n1nFinalStateActionPerformed
        createPDAInternalFrame( PDAExamples.createPDA0n1nFinalState(), 
                false, false, null, "000111", PDAAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miPDA0n1nFinalStateActionPerformed

    private void miPDA01SameFinalStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miPDA01SameFinalStateActionPerformed
        createPDAInternalFrame( PDAExamples.createPDA01SameFinalState(), 
                false, false, null, "010011", PDAAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miPDA01SameFinalStateActionPerformed

    private void miPDAPDAAiBjCkFinalStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miPDAPDAAiBjCkFinalStateActionPerformed
        createPDAInternalFrame( PDAExamples.createPDAAiBjCkFinalState(), 
                false, false, null, "aabbccc", PDAAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miPDAPDAAiBjCkFinalStateActionPerformed

    private void miPDA0n1nEmptyStackActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miPDA0n1nEmptyStackActionPerformed
        createPDAInternalFrame( PDAExamples.createPDA0n1nEmptyStack(), 
                false, false, null, "000111", PDAAcceptanceType.EMPTY_STACK );
    }//GEN-LAST:event_miPDA0n1nEmptyStackActionPerformed

    private void miPDA01SameEmptyStackActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miPDA01SameEmptyStackActionPerformed
        createPDAInternalFrame( PDAExamples.createPDA01SameEmptyStack(), 
                false, false, null, "010011", PDAAcceptanceType.EMPTY_STACK );
    }//GEN-LAST:event_miPDA01SameEmptyStackActionPerformed

    private void miDPDA0n1nActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDPDA0n1nActionPerformed
        createPDAInternalFrame( PDAExamples.createDPDA0n1n(), 
                false, false, null, "000111", PDAAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miDPDA0n1nActionPerformed

    private void miDPDA01SameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miDPDA01SameActionPerformed
        createPDAInternalFrame( PDAExamples.createDPDA01Same(), 
                false, false, null, "010011", PDAAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miDPDA01SameActionPerformed

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
        openExample();
    }//GEN-LAST:event_formWindowOpened

    private void miTM0n1nFinalStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miTM0n1nFinalStateActionPerformed
        createTMInternalFrame( TMExamples.createDTM0n1nFinalState(),
                false, false, null, "000111", TMAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miTM0n1nFinalStateActionPerformed

    private void miTMMonusHaltActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miTMMonusHaltActionPerformed
        createTMInternalFrame( TMExamples.createDTMMonusHalt(),
                false, false, null, "0000100", TMAcceptanceType.HALT );
    }//GEN-LAST:event_miTMMonusHaltActionPerformed

    private void miTMDivideHaltActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miTMDivideHaltActionPerformed
        createTMInternalFrame( TMExamples.createDTMDivideHalt(),
                false, false, null, "00001001", TMAcceptanceType.HALT );
    }//GEN-LAST:event_miTMDivideHaltActionPerformed

    private void miTMAnBnCnFinalStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miTMAnBnCnFinalStateActionPerformed
        createTMInternalFrame( TMExamples.createDTMAnBnCnFinalState(),
                false, false, null, "aaabbbccc", TMAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miTMAnBnCnFinalStateActionPerformed

    private void miTM01SameFinalStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miTM01SameFinalStateActionPerformed
        createTMInternalFrame( TMExamples.createDTM01SameFinalState(),
                false, false, null, "010011", TMAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miTM01SameFinalStateActionPerformed

    private void miTMInfiniteLoopFinalStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miTMInfiniteLoopFinalStateActionPerformed
        createTMInternalFrame( TMExamples.createDTMInfiniteLoopFinalState(),
                false, false, null, "01", TMAcceptanceType.FINAL_STATE );
    }//GEN-LAST:event_miTMInfiniteLoopFinalStateActionPerformed

    public void createFAInternalFrame( FA fa, boolean maximized, 
            boolean currentFileSaved, 
            File currentFile,
            String inputExample ) {
        
        if ( fa == null ) {
            fa = new FA();
        }
        
        FAInternalFrame iFrame = new FAInternalFrame( this, fa );
        iFrame.setCurrentState( fa.getStates().size() );
        iFrame.setCurrentFile( currentFile );
        iFrame.setCurrentFileSaved( currentFileSaved );
        iFrame.setInputExample( inputExample );
        
        desktopPane.add( iFrame );
        iFrame.setVisible( true );
        
        try {
            iFrame.setMaximum( maximized );
        } catch ( PropertyVetoException exc ) {
            Utils.showException( exc );
        }
        
    }
    
    public void createPDAInternalFrame( PDA pda, boolean maximized,
            boolean currentFileSaved,
            File currentFile,
            String inputExample, PDAAcceptanceType type ) {
        
        if ( pda == null ) {
            pda = new PDA();
        }
        
        PDAInternalFrame iFrame = new PDAInternalFrame( this, pda );
        iFrame.setCurrentState( pda.getStates().size() );
        iFrame.setCurrentFile( currentFile );
        iFrame.setCurrentFileSaved( currentFileSaved );
        iFrame.setInputExample( inputExample );
        iFrame.setAcceptanceType( type );
        
        desktopPane.add( iFrame );
        iFrame.setVisible( true );
        
        try {
            iFrame.setMaximum( maximized );
        } catch ( PropertyVetoException exc ) {
            Utils.showException( exc );
        }
        
    }
    
    public void createTMInternalFrame( TM tm, boolean maximized,
            boolean currentFileSaved,
            File currentFile,
            String inputExample,
            TMAcceptanceType type ) {
        
        if ( tm == null ) {
            tm = new TM();
        }
        
        TMInternalFrame iFrame = new TMInternalFrame( this, tm );
        iFrame.setCurrentState( tm.getStates().size() );
        iFrame.setCurrentFile( currentFile );
        iFrame.setCurrentFileSaved( currentFileSaved );
        iFrame.setInputExample( inputExample );
        iFrame.setAcceptanceType( type );
        
        desktopPane.add( iFrame );
        iFrame.setVisible( true );
        
        try {
            iFrame.setMaximum( maximized );
        } catch ( PropertyVetoException exc ) {
            Utils.showException( exc );
        }
        
    }
    
    @SuppressWarnings( "unchecked" )
    private void close() {
        
        if ( ApplicationConstants.IN_DEVELOPMENT ) {
            System.exit( 0 );
        } else if ( Utils.showConfirmationMessageYesNo( this,
                """
                Do you really want to quit?
                All unsaved data will be lost!""" ) == JOptionPane.OK_OPTION ) {
            System.exit( 0 );
        }
        
    }
    
    private void updateJifsUI() {
        
        SwingUtilities.updateComponentTreeUI( this );
        
        for ( JInternalFrame jif : desktopPane.getAllFrames() ) {
            if ( jif instanceof FAInternalFrame faJif ) {
                faJif.updateUIFlatLaf();
                faJif.updateUI();
            }
            if ( jif instanceof PDAInternalFrame pdaJif ) {
                pdaJif.updateUIFlatLaf();
                pdaJif.updateUI();
            }
            if ( jif instanceof TMInternalFrame tmJif ) {
                tmJif.updateUIFlatLaf();
                tmJif.updateUI();
            }
        }
        
    }
    
    public void changeThemeToLight() {
        FlatLightLaf.setup();
        updateJifsUI();
        riLightTheme.setSelected( true );
        ApplicationPreferences.setPref( ApplicationPreferences.PREF_THEME, 
                ApplicationConstants.LIGHT_THEME );
    }
    
    public void changeThemeToDark() {
        FlatDarculaLaf.setup();
        updateJifsUI();
        riDarkTheme.setSelected( true );
        ApplicationPreferences.setPref( ApplicationPreferences.PREF_THEME, 
                ApplicationConstants.DARK_THEME );
    }
    
    public static void main( String args[] ) {
        
        EventQueue.invokeLater( new Runnable() {
            
            public void run() {
                
                MainWindow mainWindow = new MainWindow();
                
                if ( args.length > 0 ) {
                    
                    File fileToOpen = new File( args[0] );
                    
                    if ( fileToOpen.exists() ) {
                        
                        try ( FileInputStream fis = new FileInputStream( fileToOpen );
                                ObjectInputStream ois = new ObjectInputStream( fis ) ) {
                            
                            if ( fileToOpen.getName().endsWith( ".yfa" ) ) {
                                FA fa = (FA) ois.readObject();
                                fa.deactivateAllStatesInSimulation();
                                fa.deselectAll();
                                fa.setTransitionsControlPointsVisible( false );
                                mainWindow.createFAInternalFrame( fa, false, true, fileToOpen, null );
                            } else if ( fileToOpen.getName().endsWith( ".ypda" ) ) {
                                PDA pda = (PDA) ois.readObject();
                                pda.deactivateAllStatesInSimulation();
                                pda.deselectAll();
                                pda.setTransitionsControlPointsVisible( false );
                                mainWindow.createPDAInternalFrame( pda, false, true, fileToOpen, null, null );
                            } else if ( fileToOpen.getName().endsWith( ".ytm" ) ) {
                                TM tm = (TM) ois.readObject();
                                tm.deactivateAllStatesInSimulation();
                                tm.deselectAll();
                                tm.setTransitionsControlPointsVisible( false );
                                mainWindow.createTMInternalFrame( tm, false, true, fileToOpen, null, null );
                            }
                    
                        } catch ( IOException | ClassNotFoundException exc ) {
                            Utils.showException( exc );
                        }
                        
                    }
                    
                }
                
                switch ( ApplicationPreferences.getPref( ApplicationPreferences.PREF_THEME ) ) {
                    case ApplicationConstants.LIGHT_THEME:
                        mainWindow.changeThemeToLight();
                        break;
                    case ApplicationConstants.DARK_THEME:
                        mainWindow.changeThemeToDark();
                        break;
                }
                
                Utils.updateSplashScreen( 6000 );
                mainWindow.setVisible( true );
                
            }
            
        });
    }
    
    private void openExample() {
        if ( ApplicationConstants.IN_DEVELOPMENT ) {
            createFAInternalFrame( FAExamples.createDFASubstring01(), 
                    false, false, null, "0010" );
            /*createPDAInternalFrame( PDAExamples.createPDAEvenPalindromeFinalState(), 
                    false, false, null, "001100", PDAAcceptanceType.FINAL_STATE );*/
            /*createTMInternalFrame( 
                    TMExamples.createDTMDivideHalt(), true, true, null,
                    "00001001", TMAcceptanceType.HALT );*/
        }
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup bgTheme;
    private javax.swing.JButton btnFA;
    private javax.swing.JButton btnPDA;
    private javax.swing.JButton btnTM;
    private javax.swing.JDesktopPane desktopPane;
    private javax.swing.JMenuBar menuBar;
    private javax.swing.JMenu menuDFA;
    private javax.swing.JMenu menuDPDA;
    private javax.swing.JMenu menuENFA;
    private javax.swing.JMenu menuExamples;
    private javax.swing.JMenu menuExamplesForMinimization;
    private javax.swing.JMenu menuFA;
    private javax.swing.JPopupMenu.Separator menuFASep01;
    private javax.swing.JMenu menuFile;
    private javax.swing.JMenu menuHelp;
    private javax.swing.JMenuItem menuItemAbout;
    private javax.swing.JMenuItem menuItemExit;
    private javax.swing.JMenu menuNFA;
    private javax.swing.JMenu menuPDA;
    private javax.swing.JMenu menuPDAEmptyStack;
    private javax.swing.JMenu menuPDAFinalState;
    private javax.swing.JMenu menuTM;
    private javax.swing.JMenu menuTMFinalState;
    private javax.swing.JMenu menuTMHalt;
    private javax.swing.JPopupMenu.Separator menuTMSep01;
    private javax.swing.JMenu menuThemes;
    private javax.swing.JMenuItem miDFA0Even1Odd;
    private javax.swing.JMenuItem miDFAEndsWith00;
    private javax.swing.JMenuItem miDFAEndsWith01;
    private javax.swing.JMenuItem miDFAEndsWith10;
    private javax.swing.JMenuItem miDFAEndsWith11;
    private javax.swing.JMenuItem miDFASubstring01;
    private javax.swing.JMenuItem miDPDA01Same;
    private javax.swing.JMenuItem miDPDA0n1n;
    private javax.swing.JMenuItem miDPDAEvenPalindromeCenterMark;
    private javax.swing.JMenuItem miENFADecimalNumber;
    private javax.swing.JMenuItem miMiniE01;
    private javax.swing.JMenuItem miMiniE02;
    private javax.swing.JMenuItem miMiniE03;
    private javax.swing.JMenuItem miMiniE04;
    private javax.swing.JMenuItem miMiniE05;
    private javax.swing.JMenuItem miMiniE06;
    private javax.swing.JMenuItem miMiniE07;
    private javax.swing.JMenuItem miMiniE08;
    private javax.swing.JMenuItem miMiniE09;
    private javax.swing.JMenuItem miNFAEndsWith00;
    private javax.swing.JMenuItem miNFAEndsWith01;
    private javax.swing.JMenuItem miNFAEndsWith10;
    private javax.swing.JMenuItem miNFAEndsWith11;
    private javax.swing.JMenuItem miPDA01SameEmptyStack;
    private javax.swing.JMenuItem miPDA01SameFinalState;
    private javax.swing.JMenuItem miPDA0n1nEmptyStack;
    private javax.swing.JMenuItem miPDA0n1nFinalState;
    private javax.swing.JMenuItem miPDAEvenPalindromeEmptyStack;
    private javax.swing.JMenuItem miPDAEvenPalindromeFinalState;
    private javax.swing.JMenuItem miPDAPDAAiBjCkFinalState;
    private javax.swing.JMenuItem miTM01SameFinalState;
    private javax.swing.JMenuItem miTM0n1nFinalState;
    private javax.swing.JMenuItem miTMAnBnCnFinalState;
    private javax.swing.JMenuItem miTMDivideHalt;
    private javax.swing.JMenuItem miTMInfiniteLoopFinalState;
    private javax.swing.JMenuItem miTMMonusHalt;
    private javax.swing.JRadioButtonMenuItem riDarkTheme;
    private javax.swing.JRadioButtonMenuItem riLightTheme;
    private javax.swing.JToolBar toolBar;
    // End of variables declaration//GEN-END:variables
}
